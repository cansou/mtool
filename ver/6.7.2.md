
### 6.7.2版本发送朋友验证请求
### o类特征 ===> "/cgi-bin/micromsg-bin/sendopenimverifyrequest"
```java
final void chm() {
    if (this.rsn.isEmpty()) {
        this.rtY = true;
        g.Df().dAN.a(881, this);
        g.Df().dAN.a(new com.tencent.mm.openim.b.h((String) this.rtW.getFirst(), "", ""), 0);
        return;
    }
    g.Df().dAN.a(new o((String) this.rtW.getFirst(), this.content, (String) this.rsn.getFirst()), 0);
}
```
```java
public final void onSceneEnd(int i, int i2, String str, m mVar) {
    if (mVar.getType() == 881) {
        g.Df().dAN.b(881, this);
        if (i != 0 || i2 != 0) {
            Toast.makeText(this.context, this.context.getString(a.h.sendrequest_send_fail), 1).show();
        } else if (this.rtY) {
            g.Df().dAN.a(new o((String) this.rtW.getFirst(), this.content, ((com.tencent.mm.openim.b.h) mVar).eHC.rMO), 0);
        }
        this.rtY = false;
    } else if (mVar.getType() == 30 || mVar.getType() == com.tencent.mm.plugin.appbrand.jsapi.i.g.CTRL_INDEX) {
        y.d("MicroMsg.SendVerifyRequest", "onSceneEnd, errType = " + i + ", errCode = " + i2);
        if (this.tipDialog != null) {
            this.tipDialog.dismiss();
            this.tipDialog = null;
        }
        onStop();
        if (i == 0 && i2 == 0) {
            if (this.rtX) {
                com.tencent.mm.ui.base.h.by(this.context, this.context.getString(a.h.sendrequest_send_success));
            }
            this.rtV.bl(true);
            return;
        }
        if (i == 4 && i2 == -34) {
            str = this.context.getString(a.h.fmessage_request_too_offen);
        } else if (i == 4 && i2 == -94) {
            str = this.context.getString(a.h.fmessage_user_not_support);
        } else if (!(i == 4 && i2 == -24 && !bj.bl(str)) && (i != 4 || bj.bl(str))) {
            str = this.context.getString(a.h.sendrequest_send_fail);
        }
        if (this.rtX) {
            Toast.makeText(this.context, str, 1).show();
        }
        this.rtV.bl(false);
    } else {
        y.w("MicroMsg.SendVerifyRequest", "not expected scene,  type = " + mVar.getType());
    }
}
```
### 发送图片
### l类特征 ===> "/cgi-bin/micromsg-bin/uploadmsgimg"
```java
package com.tencent.mm.ui.contact;

import android.content.Intent;
import com.tencent.mm.R;
import com.tencent.mm.af.m;
import com.tencent.mm.ap.l;
import com.tencent.mm.model.av;
import com.tencent.mm.model.q;
import com.tencent.mm.model.s;
import com.tencent.mm.plugin.report.service.h;
import com.tencent.mm.sdk.platformtools.y;
import java.util.ArrayList;
import java.util.Iterator;

class SelectContactUI$2 implements Runnable {
    final /* synthetic */ SelectContactUI van;
    final /* synthetic */ ArrayList vap;

    SelectContactUI$2(SelectContactUI selectContactUI, ArrayList arrayList) {
        this.van = selectContactUI;
        this.vap = arrayList;
    }

    public final void run() {
        String FC = q.FC();
        Iterator it = this.vap.iterator();
        int i = 0;
        String str = null;
        while (it.hasNext()) {
            String str2 = (String) it.next();
            y.d("MicroMsg.SelectContactUI", "toSend, %s", new Object[]{str2});
            int i2 = i + (s.fk(str2) ? 1 : 0);
            m lVar = new l(4, FC, str2, this.van.getIntent().getStringExtra("shareImagePath"), 0, null, 0, "", str, true, R.g.chat_img_template);
            av.CB().a(lVar, 0);
            if (lVar.bDv != null) {
                str = lVar.bDv.field_imgPath;
            }
            i = i2;
        }
        SelectContactUI.f(this.van).dismiss();
        Intent intent = new Intent();
        intent.putStringArrayListExtra("Select_Contact", this.vap);
        this.van.setResult(-1, intent);
        h.naf.f(11048, new Object[]{Integer.valueOf(1), Integer.valueOf(this.vap.size() - i), Integer.valueOf(i)});
        this.van.finish();
    }
}
```